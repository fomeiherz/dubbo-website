<!doctype html><html lang=zh class=no-js><head><meta name=ROBOTS content="INDEX, FOLLOW"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.109.0"><link rel="shortcut icon" type=image/png href=/imgs/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><title>定义服务 | Apache Dubbo</title><meta property="og:title" content="定义服务"><meta property="og:description" content="本文可帮助开发者了解 Dubbo 微服务项目构建、开发、部署、观测、治理的全生命周期基本流程，这篇文档更多的是展示 Dubbo 的开发流程与开发模式。
如果您需要可实际动手实践的示例，期望能跟随示例讲解一步步的完成开发，请参考以下每个语言的快速开始：
Java 快速开始 Go 快速开始 Rust 快速开始 第一步，准备微服务环境 在开发微服务之前，您需要安装相关的微服务基础设施如注册中心、服务治理控制台等。
以下文档可以引导您快速的安装 Nacos、Zookeeper、Dubbo Admin 等注册中心与控制台组件。
Kubernetes 环境安装 传统虚拟机环境安装 安装注册中心、服务治理中心等组件
第一步，初始化项目 如果您正在使用 Java 或 Go 开发微服务，则可以使用 Dubbo 提供的脚手架快速创建项目骨架，骨架项目包含开发 Dubbo 必须的依赖和配置，同时还包含一些对应的微服务开发的常用模式：
Java 项目脚手架 Go 项目脚手架 以下是一个脚手架示例项目结构：
可以直接导入 IDE 开始微服务业务开发。对于除 Java 和 Go 之外的其他语言，您也可以基于 Dubbo 提供的指引快速的创建项目。
第二步，定义服务 服务是 Dubbo 开发、通信和治理的基本单位，通常我们讲的 Dubbo 服务是一个类似编程语言接口的概念，它是一系列可以被调用的方法的集合。通常来说，服务提供者 (Server) 负责提供服务定义的实现，而服务消费者 (Client) 基于服务定义对服务提供者发起 RPC 调用。
Dubbo 提供多种语言实现，开发者既可以选择以语言特有的方式定义服务，也可以选择使用语言中立的 IDL (Proto Buffers) 定义服务。
Java Go IDL public interface DemoService { String sayHello(String name); } type DemoService struct { SayHello func(req []string) (string, error) } syntax = &#34;proto3&#34;; option java_multiple_files = true; option java_package = &#34;org."><meta property="og:type" content="article"><meta property="og:url" content="http://static.dubbo.apache.org:8080/zh/overview/core-features/service-definition/"><meta property="article:section" content="overview"><meta property="article:modified_time" content="2023-01-02T20:12:51+08:00"><meta property="og:site_name" content="Apache Dubbo"><meta itemprop=name content="定义服务"><meta itemprop=description content="本文可帮助开发者了解 Dubbo 微服务项目构建、开发、部署、观测、治理的全生命周期基本流程，这篇文档更多的是展示 Dubbo 的开发流程与开发模式。
如果您需要可实际动手实践的示例，期望能跟随示例讲解一步步的完成开发，请参考以下每个语言的快速开始：
Java 快速开始 Go 快速开始 Rust 快速开始 第一步，准备微服务环境 在开发微服务之前，您需要安装相关的微服务基础设施如注册中心、服务治理控制台等。
以下文档可以引导您快速的安装 Nacos、Zookeeper、Dubbo Admin 等注册中心与控制台组件。
Kubernetes 环境安装 传统虚拟机环境安装 安装注册中心、服务治理中心等组件
第一步，初始化项目 如果您正在使用 Java 或 Go 开发微服务，则可以使用 Dubbo 提供的脚手架快速创建项目骨架，骨架项目包含开发 Dubbo 必须的依赖和配置，同时还包含一些对应的微服务开发的常用模式：
Java 项目脚手架 Go 项目脚手架 以下是一个脚手架示例项目结构：
可以直接导入 IDE 开始微服务业务开发。对于除 Java 和 Go 之外的其他语言，您也可以基于 Dubbo 提供的指引快速的创建项目。
第二步，定义服务 服务是 Dubbo 开发、通信和治理的基本单位，通常我们讲的 Dubbo 服务是一个类似编程语言接口的概念，它是一系列可以被调用的方法的集合。通常来说，服务提供者 (Server) 负责提供服务定义的实现，而服务消费者 (Client) 基于服务定义对服务提供者发起 RPC 调用。
Dubbo 提供多种语言实现，开发者既可以选择以语言特有的方式定义服务，也可以选择使用语言中立的 IDL (Proto Buffers) 定义服务。
Java Go IDL public interface DemoService { String sayHello(String name); } type DemoService struct { SayHello func(req []string) (string, error) } syntax = &#34;proto3&#34;; option java_multiple_files = true; option java_package = &#34;org."><meta itemprop=dateModified content="2023-01-02T20:12:51+08:00"><meta itemprop=wordCount content="1014"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="定义服务"><meta name=twitter:description content="本文可帮助开发者了解 Dubbo 微服务项目构建、开发、部署、观测、治理的全生命周期基本流程，这篇文档更多的是展示 Dubbo 的开发流程与开发模式。
如果您需要可实际动手实践的示例，期望能跟随示例讲解一步步的完成开发，请参考以下每个语言的快速开始：
Java 快速开始 Go 快速开始 Rust 快速开始 第一步，准备微服务环境 在开发微服务之前，您需要安装相关的微服务基础设施如注册中心、服务治理控制台等。
以下文档可以引导您快速的安装 Nacos、Zookeeper、Dubbo Admin 等注册中心与控制台组件。
Kubernetes 环境安装 传统虚拟机环境安装 安装注册中心、服务治理中心等组件
第一步，初始化项目 如果您正在使用 Java 或 Go 开发微服务，则可以使用 Dubbo 提供的脚手架快速创建项目骨架，骨架项目包含开发 Dubbo 必须的依赖和配置，同时还包含一些对应的微服务开发的常用模式：
Java 项目脚手架 Go 项目脚手架 以下是一个脚手架示例项目结构：
可以直接导入 IDE 开始微服务业务开发。对于除 Java 和 Go 之外的其他语言，您也可以基于 Dubbo 提供的指引快速的创建项目。
第二步，定义服务 服务是 Dubbo 开发、通信和治理的基本单位，通常我们讲的 Dubbo 服务是一个类似编程语言接口的概念，它是一系列可以被调用的方法的集合。通常来说，服务提供者 (Server) 负责提供服务定义的实现，而服务消费者 (Client) 基于服务定义对服务提供者发起 RPC 调用。
Dubbo 提供多种语言实现，开发者既可以选择以语言特有的方式定义服务，也可以选择使用语言中立的 IDL (Proto Buffers) 定义服务。
Java Go IDL public interface DemoService { String sayHello(String name); } type DemoService struct { SayHello func(req []string) (string, error) } syntax = &#34;proto3&#34;; option java_multiple_files = true; option java_package = &#34;org."><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-112489517-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel=preload href=/scss/main.min.93640d58f9a7116cf265d00f521048c3676d6bb0f5afb904f63aa8878fc289e1.css as=style><link href=/scss/main.min.93640d58f9a7116cf265d00f521048c3676d6bb0f5afb904f63aa8878fc289e1.css rel=stylesheet integrity><script src=/js/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="本文可帮助开发者了解 Dubbo 微服务项目构建、开发、部署、观测、治理的全生命周期基本流程，这篇文档更多的是展示 Dubbo 的开发流程与开发模式。
如果您需要可实际动手实践的示例，期望能跟随示例讲解一步步的完成开发，请参考以下每个语言的快速开始：
Java 快速开始 Go 快速开始 Rust 快速开始 第一步，准备微服务环境 在开发微服务之前，您需要安装相关的微服务基础设施如注册中心、服务治理控制台等。
以下文档可以引导您快速的安装 Nacos、Zookeeper、Dubbo Admin 等注册中心与控制台组件。
Kubernetes 环境安装 传统虚拟机环境安装 安装注册中心、服务治理中心等组件
第一步，初始化项目 如果您正在使用 Java 或 Go 开发微服务，则可以使用 Dubbo 提供的脚手架快速创建项目骨架，骨架项目包含开发 Dubbo 必须的依赖和配置，同时还包含一些对应的微服务开发的常用模式：
Java 项目脚手架 Go 项目脚手架 以下是一个脚手架示例项目结构：
可以直接导入 IDE 开始微服务业务开发。对于除 Java 和 Go 之外的其他语言，您也可以基于 Dubbo 提供的指引快速的创建项目。
第二步，定义服务 服务是 Dubbo 开发、通信和治理的基本单位，通常我们讲的 Dubbo 服务是一个类似编程语言接口的概念，它是一系列可以被调用的方法的集合。通常来说，服务提供者 (Server) 负责提供服务定义的实现，而服务消费者 (Client) 基于服务定义对服务提供者发起 RPC 调用。
Dubbo 提供多种语言实现，开发者既可以选择以语言特有的方式定义服务，也可以选择使用语言中立的 IDL (Proto Buffers) 定义服务。
Java Go IDL public interface DemoService { String sayHello(String name); } type DemoService struct { SayHello func(req []string) (string, error) } syntax = &#34;proto3&#34;; option java_multiple_files = true; option java_package = &#34;org."><meta property="og:description" content="本文可帮助开发者了解 Dubbo 微服务项目构建、开发、部署、观测、治理的全生命周期基本流程，这篇文档更多的是展示 Dubbo 的开发流程与开发模式。
如果您需要可实际动手实践的示例，期望能跟随示例讲解一步步的完成开发，请参考以下每个语言的快速开始：
Java 快速开始 Go 快速开始 Rust 快速开始 第一步，准备微服务环境 在开发微服务之前，您需要安装相关的微服务基础设施如注册中心、服务治理控制台等。
以下文档可以引导您快速的安装 Nacos、Zookeeper、Dubbo Admin 等注册中心与控制台组件。
Kubernetes 环境安装 传统虚拟机环境安装 安装注册中心、服务治理中心等组件
第一步，初始化项目 如果您正在使用 Java 或 Go 开发微服务，则可以使用 Dubbo 提供的脚手架快速创建项目骨架，骨架项目包含开发 Dubbo 必须的依赖和配置，同时还包含一些对应的微服务开发的常用模式：
Java 项目脚手架 Go 项目脚手架 以下是一个脚手架示例项目结构：
可以直接导入 IDE 开始微服务业务开发。对于除 Java 和 Go 之外的其他语言，您也可以基于 Dubbo 提供的指引快速的创建项目。
第二步，定义服务 服务是 Dubbo 开发、通信和治理的基本单位，通常我们讲的 Dubbo 服务是一个类似编程语言接口的概念，它是一系列可以被调用的方法的集合。通常来说，服务提供者 (Server) 负责提供服务定义的实现，而服务消费者 (Client) 基于服务定义对服务提供者发起 RPC 调用。
Dubbo 提供多种语言实现，开发者既可以选择以语言特有的方式定义服务，也可以选择使用语言中立的 IDL (Proto Buffers) 定义服务。
Java Go IDL public interface DemoService { String sayHello(String name); } type DemoService struct { SayHello func(req []string) (string, error) } syntax = &#34;proto3&#34;; option java_multiple_files = true; option java_package = &#34;org."><meta name=twitter:description content="本文可帮助开发者了解 Dubbo 微服务项目构建、开发、部署、观测、治理的全生命周期基本流程，这篇文档更多的是展示 Dubbo 的开发流程与开发模式。
如果您需要可实际动手实践的示例，期望能跟随示例讲解一步步的完成开发，请参考以下每个语言的快速开始：
Java 快速开始 Go 快速开始 Rust 快速开始 第一步，准备微服务环境 在开发微服务之前，您需要安装相关的微服务基础设施如注册中心、服务治理控制台等。
以下文档可以引导您快速的安装 Nacos、Zookeeper、Dubbo Admin 等注册中心与控制台组件。
Kubernetes 环境安装 传统虚拟机环境安装 安装注册中心、服务治理中心等组件
第一步，初始化项目 如果您正在使用 Java 或 Go 开发微服务，则可以使用 Dubbo 提供的脚手架快速创建项目骨架，骨架项目包含开发 Dubbo 必须的依赖和配置，同时还包含一些对应的微服务开发的常用模式：
Java 项目脚手架 Go 项目脚手架 以下是一个脚手架示例项目结构：
可以直接导入 IDE 开始微服务业务开发。对于除 Java 和 Go 之外的其他语言，您也可以基于 Dubbo 提供的指引快速的创建项目。
第二步，定义服务 服务是 Dubbo 开发、通信和治理的基本单位，通常我们讲的 Dubbo 服务是一个类似编程语言接口的概念，它是一系列可以被调用的方法的集合。通常来说，服务提供者 (Server) 负责提供服务定义的实现，而服务消费者 (Client) 基于服务定义对服务提供者发起 RPC 调用。
Dubbo 提供多种语言实现，开发者既可以选择以语言特有的方式定义服务，也可以选择使用语言中立的 IDL (Proto Buffers) 定义服务。
Java Go IDL public interface DemoService { String sayHello(String name); } type DemoService struct { SayHello func(req []string) (string, error) } syntax = &#34;proto3&#34;; option java_multiple_files = true; option java_package = &#34;org."><meta property="og:url" content="http://static.dubbo.apache.org:8080/zh/overview/core-features/service-definition/"><meta property="og:title" content="定义服务"><meta name=twitter:title content="定义服务"><meta name=twitter:image:alt content="Apache Dubbo"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><link href=/css/community.css rel=stylesheet><link href=/css/contactus.css rel=stylesheet><script src=/js/script.js></script><title>定义服务 | Apache Dubbo</title></head><body class="td-page td-documentation"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/zh/><span class=navbar-logo><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 321.39 78.54"><title id="title19">DUBBO LOGO</title><path class="cls-1" d="M68.46 50.38c0 14.06 11.39 22.11 25.45 22.11s25.45-8.05 25.45-22.11V7.25H68.46zm21.24-28h8.6V31H89.7zm0 22.25h8.6v8.6H89.7zM33.24 7.25H4.06v64H33.24c10.95.0 19.3-7.18 23.29-17.15a45.12 45.12.0 002.38-14.87A45.12 45.12.0 0056.53 24.4C52.84 14.62 44.19 7.25 33.24 7.25zm.43 14.63H30.34a3.44 3.44.0 00-3.44 3.44V53.23a3.44 3.44.0 003.44 3.44h3.33v4.63h-8.3a6.87 6.87.0 01-6.87-6.87V24.12a6.87 6.87.0 016.87-6.87h8.3zM285.51 6.06c-17.05.0-30.88 10.28-30.88 33.21s13.83 33.21 30.88 33.21 30.88-10.28 30.88-33.21S302.56 6.06 285.51 6.06zm7.59 48.36a6.87 6.87.0 01-6.87 6.87h-8.3V56.67h3.33a3.44 3.44.0 003.44-3.44V25.31a3.44 3.44.0 00-3.44-3.44h-3.33V17.25h8.3a6.87 6.87.0 016.87 6.87zm-53.4-17.56A17.39 17.39.0 00227.31 7.25H195.1v64h32.21a19.44 19.44.0 0012.38-34.44zM211.63 61.29h-6.08l18.68-44h6.08zM177 36.85A17.39 17.39.0 00164.65 7.25H132.43v64h32.21A19.44 19.44.0 00177 36.85zM149 61.29h-6.08l18.68-44h6.08z" style="fill:#fff;fill-opacity:1"/></svg></span><span class="text-uppercase font-weight-bold">Apache Dubbo</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/overview/home/><span>文档</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/users/><span>用户案例</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/blog/><span>博客</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/release/><span>版本发布</span></a></li><li class="nav-item dropdown d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div id=docsearch></div></div></nav><section class="header-hero text-white pb-4 light-text"><h1>定义服务</h1></section></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-md-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div id=docsearch></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhoverview-li><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewhome-li><a href=/zh/overview/home/ title="Dubbo 文档" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewhome><span>主页</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewquickstart-li><a href=/zh/overview/quickstart/ title="一文了解 Dubbo 微服务开发、部署全流程" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewquickstart><span>入门</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhoverviewwhat-li><a href=/zh/overview/what/ title="Dubbo 介绍" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewwhat><span>介绍</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatoverview-li><a href=/zh/overview/what/overview/ title="了解 Dubbo 的核心概念和架构" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatoverview><span>概念与架构</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatxyz-difference-li><a href=/zh/overview/what/xyz-difference/ title="与 gRPC、Spring Cloud、Istio 的关系" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatxyz-difference><span>对比 gRPC、Spring Cloud、Istio</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewwhatadvantages-li><a href=/zh/overview/what/advantages/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewwhatadvantages><span>核心特性</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesusability-li><a href=/zh/overview/what/advantages/usability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesusability><span>易用性</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesperformance-li><a href=/zh/overview/what/advantages/performance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesperformance><span>高性能</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagestraffic-management-li><a href=/zh/overview/what/advantages/traffic-management/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagestraffic-management><span>流量治理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesobservability-li><a href=/zh/overview/what/advantages/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesobservability><span>可观测性</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesextensibility-li><a href=/zh/overview/what/advantages/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesextensibility><span>可扩展性</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhoverviewcore-features-li><a href=/zh/overview/core-features/ title=核心特性 class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewcore-features><span>功能</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresservice-definition-li><a href=/zh/overview/core-features/service-definition/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresservice-definition><span class=td-sidebar-nav-active-item>定义服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresservice-discovery-li><a href=/zh/overview/core-features/service-discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresservice-discovery><span>服务发现</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresload-balance-li><a href=/zh/overview/core-features/load-balance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresload-balance><span>负载均衡</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featurestraffic-management-li><a href=/zh/overview/core-features/traffic-management/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featurestraffic-management><span>流量管控</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresconfiguration-li><a href=/zh/overview/core-features/configuration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresconfiguration><span>配置管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresprotocols-li><a href=/zh/overview/core-features/protocols/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresprotocols><span>通信协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresextensibility-li><a href=/zh/overview/core-features/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresextensibility><span>扩展适配</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresobservability-li><a href=/zh/overview/core-features/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresobservability><span>观测服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresecosystem-li><a href=/zh/overview/core-features/ecosystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresecosystem><span>微服务生态</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuressecurity-li><a href=/zh/overview/core-features/security/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuressecurity><span>认证鉴权</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresservice-mesh-li><a href=/zh/overview/core-features/service-mesh/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresservice-mesh><span>服务网格</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhoverviewtasks-li><a href=/zh/overview/tasks/ title="跟随示例任务学习 Dubbo" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasks><span>任务</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtaskstraffic-management-li><a href=/zh/overview/tasks/traffic-management/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtaskstraffic-management><span>流量管控</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementtimeout-li><a href=/zh/overview/tasks/traffic-management/timeout/ title=动态调整服务超时时间 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementtimeout><span>调整超时时间</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementretry-li><a href=/zh/overview/tasks/traffic-management/retry/ title=通过重试提高服务调用成功率 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementretry><span>服务重试</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementaccesslog-li><a href=/zh/overview/tasks/traffic-management/accesslog/ title=通过动态开启访问日志跟踪服务调用情况 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementaccesslog><span>访问日志</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementregion-li><a href=/zh/overview/tasks/traffic-management/region/ title=同机房/区域优先 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementregion><span>同区域优先</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementisolation-li><a href=/zh/overview/tasks/traffic-management/isolation/ title=通过标签实现流量隔离环境（灰度、多套开发环境等） class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementisolation><span>环境隔离</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementarguments-li><a href=/zh/overview/tasks/traffic-management/arguments/ title=根据请求参数引导流量分布 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementarguments><span>参数路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementweight-li><a href=/zh/overview/tasks/traffic-management/weight/ title=基于权重值的比例流量转发 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementweight><span>权重比例</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementmock-li><a href=/zh/overview/tasks/traffic-management/mock/ title=在大促之前对弱依赖调用进行服务降级 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementmock><span>服务降级</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementhost-li><a href=/zh/overview/tasks/traffic-management/host/ title="将流量点对点引导到一台机器 (如排查问题)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementhost><span>固定机器导流</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksecosystem-li><a href=/zh/overview/tasks/ecosystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksecosystem><span>微服务生态</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksecosystemtransaction-li><a href=/zh/overview/tasks/ecosystem/transaction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksecosystemtransaction><span>事务管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksecosystemrate-limit-li><a href=/zh/overview/tasks/ecosystem/rate-limit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksecosystemrate-limit><span>限流降级</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksprotocols-li><a href=/zh/overview/tasks/protocols/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksprotocols><span>通信协议</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksprotocolstriple-li><a href=/zh/overview/tasks/protocols/triple/ title="Dubbo3 通信协议 -- Triple" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksprotocolstriple><span>Triple 协议</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolstripleidl-li><a href=/zh/overview/tasks/protocols/triple/idl/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolstripleidl><span>使用 IDL + Protobuf 跨语言定义服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolstriplewrap-li><a href=/zh/overview/tasks/protocols/triple/wrap/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolstriplewrap><span>Pojo 序列化兼容模式</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolstriplestreaming-li><a href=/zh/overview/tasks/protocols/triple/streaming/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolstriplestreaming><span>Streaming 通信模式</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolsdubbo2-li><a href=/zh/overview/tasks/protocols/dubbo2/ title="基于 HTTP 的通信协议" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolsdubbo2><span>HTTP 协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolshttp-li><a href=/zh/overview/tasks/protocols/http/ title="基于 TCP 的 RPC 通信协议" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolshttp><span>Dubbo2 协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolsgrpc-li><a href=/zh/overview/tasks/protocols/grpc/ title="gRPC 通信协议" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolsgrpc><span>gRPC 协议</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtaskskubernetes-li><a href=/zh/overview/tasks/kubernetes/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtaskskubernetes><span>Kubernetes</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskskubernetesdeploy-on-k8s-li><a href=/zh/overview/tasks/kubernetes/deploy-on-k8s/ title="部署到 Kubernetes" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskskubernetesdeploy-on-k8s><span>基于 API-SERVER 的原生 K8S Service</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksobservability-li><a href=/zh/overview/tasks/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksobservability><span>可观测性</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksobservabilityadmin-li><a href=/zh/overview/tasks/observability/admin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksobservabilityadmin><span>Admin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksobservabilitygrafana-li><a href=/zh/overview/tasks/observability/grafana/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksobservabilitygrafana><span>Grafana</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksobservabilityprometheus-li><a href=/zh/overview/tasks/observability/prometheus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksobservabilityprometheus><span>Prometheus</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksextensibility-li><a href=/zh/overview/tasks/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksextensibility><span>可扩展性</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksextensibilityextensibility-li><a href=/zh/overview/tasks/extensibility/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksextensibilityextensibility><span>Filter</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksmesh-li><a href=/zh/overview/tasks/mesh/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksmesh><span>服务网格</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksmeshdubbo-mesh-li><a href=/zh/overview/tasks/mesh/dubbo-mesh/ title="Dubbo proxy mesh using Envoy & Istio" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksmeshdubbo-mesh><span>Sidecar 模式</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksmeshproxyless-li><a href=/zh/overview/tasks/mesh/proxyless/ title="Istio + Proxyless" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksmeshproxyless><span>Proxyless 模式</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhoverviewmannual-li><a href=/zh/overview/mannual/ title="SDK 用户手册" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewmannual><span>SDK</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewmannualjava-li><a href=/zh/docs3-v2/java-sdk/home/ title="Java SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewmannualjava><span>Java</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewmannualgolang-li><a href=/zh/docs3-v2/golang-sdk/ title="Golang SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewmannualgolang><span>Golang</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewmannualrust-li><a href=/zh/docs3-v2/rust-sdk/ title="Rust SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewmannualrust><span>Rust</span></a></li></ul></li></ul></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=http://static.dubbo.apache.org:8080/zh/overview/>文档</a></li><li class=breadcrumb-item><a href=http://static.dubbo.apache.org:8080/zh/overview/core-features/>功能</a></li><li class="breadcrumb-item active" aria-current=page><a href=http://static.dubbo.apache.org:8080/zh/overview/core-features/service-definition/>定义服务</a></li></ol></nav><div class=td-content><h1>定义服务</h1><header class=article-meta></header><p>本文可帮助开发者了解 Dubbo 微服务项目构建、开发、部署、观测、治理的全生命周期基本流程，这篇文档更多的是展示 Dubbo 的开发流程与开发模式。</p><p>如果您需要可实际动手实践的示例，期望能跟随示例讲解一步步的完成开发，请参考以下每个语言的快速开始：</p><ul><li><a href>Java 快速开始</a></li><li><a href>Go 快速开始</a></li><li><a href>Rust 快速开始</a></li></ul><h2 id=第一步准备微服务环境>第一步，准备微服务环境</h2><p>在开发微服务之前，您需要安装相关的微服务基础设施如注册中心、服务治理控制台等。</p><p>以下文档可以引导您快速的安装 Nacos、Zookeeper、Dubbo Admin 等注册中心与控制台组件。</p><ul><li><a href>Kubernetes 环境安装</a></li><li><a href>传统虚拟机环境安装</a></li></ul><p>安装注册中心、服务治理中心等组件</p><h2 id=第一步初始化项目>第一步，初始化项目</h2><p>如果您正在使用 Java 或 Go 开发微服务，则可以使用 Dubbo 提供的脚手架快速创建项目骨架，骨架项目包含开发 Dubbo 必须的依赖和配置，同时还包含一些对应的微服务开发的常用模式：</p><ul><li>Java 项目脚手架</li><li>Go 项目脚手架</li></ul><p>以下是一个脚手架示例项目结构：</p><p><img src alt=骨架项目截图></p><p>可以直接导入 IDE 开始微服务业务开发。对于除 Java 和 Go 之外的其他语言，您也可以基于 Dubbo 提供的指引快速的创建项目。</p><h2 id=第二步定义服务>第二步，定义服务</h2><p>服务是 Dubbo 开发、通信和治理的基本单位，通常我们讲的 Dubbo 服务是一个类似编程语言接口的概念，它是一系列可以被调用的方法的集合。通常来说，服务提供者 (Server) 负责提供服务定义的实现，而服务消费者 (Client) 基于服务定义对服务提供者发起 RPC 调用。</p><p>Dubbo 提供多种语言实现，开发者既可以选择以语言特有的方式定义服务，也可以选择使用语言中立的 IDL (Proto Buffers) 定义服务。</p><ul class="nav nav-tabs" id=tabs-0 role=tablist><li class=nav-item><a class="nav-link active tab-Java" id=tabs-0-0-tab data-toggle=tab href=#tabs-0-0 role=tab onclick='handleClick("Java")' aria-controls=tabs-0-0 aria-selected=true>Java</a></li><li class=nav-item><a class="nav-link tab-Go" id=tabs-0-1-tab data-toggle=tab href=#tabs-0-1 role=tab onclick='handleClick("Go")' aria-controls=tabs-0-1 aria-selected=false>Go</a></li><li class=nav-item><a class="nav-link tab-IDL" id=tabs-0-2-tab data-toggle=tab href=#tabs-0-2 role=tab onclick='handleClick("IDL")' aria-controls=tabs-0-2 aria-selected=false>IDL</a></li></ul><div class=tab-content id=tabs-0-content><div class="tab-pane fade show active" id=tabs-0-0 role=tabpanel aria-labelled-by=tabs-0-0-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>DemoService</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    String <span style=color:#268bd2>sayHello</span><span style=color:#719e07>(</span>String name<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-0-1 role=tabpanel aria-labelled-by=tabs-0-1-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Go data-lang=Go><span style=display:flex><span><span style=color:#268bd2>type</span> DemoService <span style=color:#268bd2>struct</span> {
</span></span><span style=display:flex><span>	SayHello <span style=color:#268bd2>func</span>(req []<span style=color:#dc322f>string</span>) (<span style=color:#dc322f>string</span>, <span style=color:#dc322f>error</span>)
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-0-2 role=tabpanel aria-labelled-by=tabs-0-2-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>syntax = <span style=color:#2aa198>&#34;proto3&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>option java_multiple_files = <span style=color:#cb4b16>true</span>;
</span></span><span style=display:flex><span>option java_package = <span style=color:#2aa198>&#34;org.apache.dubbo.demo.hello&#34;</span>;
</span></span><span style=display:flex><span>option java_outer_classname = <span style=color:#2aa198>&#34;HelloWorldProto&#34;</span>;
</span></span><span style=display:flex><span>option objc_class_prefix = <span style=color:#2aa198>&#34;HLW&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>package</span> helloworld;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>service Greeter{
</span></span><span style=display:flex><span>  <span style=color:#586e75>// unary
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>  rpc <span style=color:#268bd2>greet</span>(HelloRequest) <span style=color:#268bd2>returns</span> (HelloReply);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75>// The request message containing the user&#39;s name.
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>message HelloRequest {
</span></span><span style=display:flex><span>  <span style=color:#dc322f>string</span> name = <span style=color:#2aa198>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75>// The response message containing the greetings
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>message HelloReply {
</span></span><span style=display:flex><span>  <span style=color:#dc322f>string</span> message = <span style=color:#2aa198>1</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></div><h2 id=第三步开发服务提供者>第三步，开发服务提供者</h2><p>服务提供者（Server）需要完成两件事情：</p><ol><li>基于上一步的服务定义给出业务逻辑实现</li><li>启动一个 Dubbo Server 监听来自客户端的请求并返回服务响应<br><br></li></ol><p>首先，开发者遵循服务定义规范编写业务逻辑实现，如业务类需要实现特定接口或者抽象某个抽象类等。<br><br></p><ul class="nav nav-tabs" id=tabs-1 role=tablist><li class=nav-item><a class="nav-link active tab-Java" id=tabs-1-0-tab data-toggle=tab href=#tabs-1-0 role=tab onclick='handleClick("Java")' aria-controls=tabs-1-0 aria-selected=true>Java</a></li><li class=nav-item><a class="nav-link tab-Go" id=tabs-1-1-tab data-toggle=tab href=#tabs-1-1 role=tab onclick='handleClick("Go")' aria-controls=tabs-1-1 aria-selected=false>Go</a></li><li class=nav-item><a class="nav-link tab-IDL-Java" id=tabs-1-2-tab data-toggle=tab href=#tabs-1-2 role=tab onclick='handleClick("IDL-Java")' aria-controls=tabs-1-2 aria-selected=false>IDL Java</a></li><li class=nav-item><a class="nav-link tab-IDL-Go" id=tabs-1-3-tab data-toggle=tab href=#tabs-1-3 role=tab onclick='handleClick("IDL-Go")' aria-controls=tabs-1-3 aria-selected=false>IDL Go</a></li><li class=nav-item><a class="nav-link tab-IDL-Rust" id=tabs-1-4-tab data-toggle=tab href=#tabs-1-4 role=tab onclick='handleClick("IDL-Rust")' aria-controls=tabs-1-4 aria-selected=false>IDL Rust</a></li><li class=nav-item><a class="nav-link tab-IDL-Node.js" id=tabs-1-5-tab data-toggle=tab href=#tabs-1-5 role=tab onclick='handleClick("IDL-Node.js")' aria-controls=tabs-1-5 aria-selected=false>IDL Node.js</a></li></ul><div class=tab-content id=tabs-1-content><div class="tab-pane fade show active" id=tabs-1-0 role=tabpanel aria-labelled-by=tabs-1-0-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>DemoServiceImpl</span> <span style=color:#268bd2>implements</span> DemoService <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> String <span style=color:#268bd2>sayHello</span><span style=color:#719e07>(</span>String name<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>return</span> <span style=color:#2aa198>&#34;Hello &#34;</span> <span style=color:#719e07>+</span> name <span style=color:#719e07>+</span> <span style=color:#2aa198>&#34;, response from provider: &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getServiceContext<span style=color:#719e07>().</span>getLocalAddress<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-1-1 role=tabpanel aria-labelled-by=tabs-1-1-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Go data-lang=Go><span style=display:flex><span><span style=color:#268bd2>type</span> DemoServiceImpl <span style=color:#268bd2>struct</span> {
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>func</span> (u <span style=color:#719e07>*</span>DemoServiceImpl) <span style=color:#268bd2>SayHello</span>(msg <span style=color:#dc322f>string</span>) (<span style=color:#dc322f>string</span>, <span style=color:#dc322f>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#719e07>return</span> <span style=color:#2aa198>&#34;Response message!&#34;</span>, <span style=color:#cb4b16>nil</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-1-2 role=tabpanel aria-labelled-by=tabs-1-2-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#586e75>// Code generated by Dubbo plugin of protoc compiler
</span></span></span><span style=display:flex><span><span style=color:#586e75>// Greeter.java
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>Greeter</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    String JAVA_SERVICE_NAME <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;org.apache.dubbo.demo.hello.Greeter&#34;</span><span style=color:#719e07>;</span>
</span></span><span style=display:flex><span>    String SERVICE_NAME <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;helloworld.Greeter&#34;</span><span style=color:#719e07>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    org<span style=color:#719e07>.</span>apache<span style=color:#719e07>.</span>dubbo<span style=color:#719e07>.</span>demo<span style=color:#719e07>.</span>hello<span style=color:#719e07>.</span>HelloReply <span style=color:#268bd2>greet</span><span style=color:#719e07>(</span>org<span style=color:#719e07>.</span>apache<span style=color:#719e07>.</span>dubbo<span style=color:#719e07>.</span>demo<span style=color:#719e07>.</span>hello<span style=color:#719e07>.</span>HelloRequest request<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>default</span> CompletableFuture<span style=color:#719e07>&lt;</span>org<span style=color:#719e07>.</span>apache<span style=color:#719e07>.</span>dubbo<span style=color:#719e07>.</span>demo<span style=color:#719e07>.</span>hello<span style=color:#719e07>.</span>HelloReply<span style=color:#719e07>&gt;</span> <span style=color:#268bd2>greetAsync</span><span style=color:#719e07>(</span>org<span style=color:#719e07>.</span>apache<span style=color:#719e07>.</span>dubbo<span style=color:#719e07>.</span>demo<span style=color:#719e07>.</span>hello<span style=color:#719e07>.</span>HelloRequest request<span style=color:#719e07>){</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>return</span> CompletableFuture<span style=color:#719e07>.</span>completedFuture<span style=color:#719e07>(</span>greet<span style=color:#719e07>(</span>request<span style=color:#719e07>));</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>    <span style=color:#586e75>// ......
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75>// Code generated by Dubbo plugin of protoc compiler
</span></span></span><span style=display:flex><span><span style=color:#586e75>// DubboGreeterTriple.java
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#268bd2>public</span> <span style=color:#268bd2>static</span> <span style=color:#268bd2>abstract</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>GreeterImplBase</span> <span style=color:#268bd2>implements</span> Greeter<span style=color:#719e07>,</span> ServerService<span style=color:#719e07>&lt;</span>Greeter<span style=color:#719e07>&gt;</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> org<span style=color:#719e07>.</span>apache<span style=color:#719e07>.</span>dubbo<span style=color:#719e07>.</span>demo<span style=color:#719e07>.</span>hello<span style=color:#719e07>.</span>HelloReply <span style=color:#268bd2>greet</span><span style=color:#719e07>(</span>org<span style=color:#719e07>.</span>apache<span style=color:#719e07>.</span>dubbo<span style=color:#719e07>.</span>demo<span style=color:#719e07>.</span>hello<span style=color:#719e07>.</span>HelloRequest request<span style=color:#719e07>){</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>throw</span> unimplementedMethodException<span style=color:#719e07>(</span>greetMethod<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>   <span style=color:#586e75>// ......
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75>// The actual business logic that is written and provided by Dubbo user
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>GreeterServiceImpl</span> <span style=color:#268bd2>extends</span> DubboGreeterTriple<span style=color:#719e07>.</span>GreeterImplBase <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> HelloReply <span style=color:#268bd2>greet</span><span style=color:#719e07>(</span>HelloRequest request<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>return</span> HelloReply<span style=color:#719e07>.</span>newBuilder<span style=color:#719e07>()</span>
</span></span><span style=display:flex><span>            <span style=color:#719e07>.</span>setMessage<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Hello &#34;</span> <span style=color:#719e07>+</span> request<span style=color:#719e07>.</span>getName<span style=color:#719e07>())</span>
</span></span><span style=display:flex><span>            <span style=color:#719e07>.</span>build<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-1-3 role=tabpanel aria-labelled-by=tabs-1-3-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Go data-lang=Go><span style=display:flex><span><span style=color:#586e75>// Paste the protoc generated and user provided code snippet here.
</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-1-4 role=tabpanel aria-labelled-by=tabs-1-4-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Rust data-lang=Rust><span style=display:flex><span><span style=color:#719e07>use</span> <span style=color:#719e07>..</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>#[allow(dead_code)]</span>
</span></span><span style=display:flex><span><span style=color:#719e07>#[derive(Default, Clone)]</span>
</span></span><span style=display:flex><span><span style=color:#719e07>struct</span> <span style=color:#268bd2>GreeterServerImpl</span> {
</span></span><span style=display:flex><span>    name: <span style=color:#b58900>String</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75>// #[async_trait]
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#719e07>#[async_trait]</span>
</span></span><span style=display:flex><span><span style=color:#719e07>impl</span> Greeter <span style=color:#719e07>for</span> GreeterServerImpl {
</span></span><span style=display:flex><span>    <span style=color:#719e07>async</span> <span style=color:#719e07>fn</span> <span style=color:#268bd2>greet</span>(
</span></span><span style=display:flex><span>        <span style=color:#719e07>&amp;</span><span style=color:#268bd2>self</span>,
</span></span><span style=display:flex><span>        request: <span style=color:#268bd2>Request</span><span style=color:#719e07>&lt;</span>GreeterRequest<span style=color:#719e07>&gt;</span>,
</span></span><span style=display:flex><span>    ) -&gt; <span style=color:#b58900>Result</span><span style=color:#719e07>&lt;</span>Response<span style=color:#719e07>&lt;</span>GreeterReply<span style=color:#719e07>&gt;</span>, dubbo::status::Status<span style=color:#719e07>&gt;</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#2aa198>&#34;GreeterServer::greet {:?}&#34;</span>, request.metadata);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#b58900>Ok</span>(Response::new(GreeterReply {
</span></span><span style=display:flex><span>            message: <span style=color:#2aa198>&#34;hello, dubbo-rust&#34;</span>.to_string(),
</span></span><span style=display:flex><span>        }))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-1-5 role=tabpanel aria-labelled-by=tabs-1-5-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class="language-IDL Node.js" data-lang="IDL Node.js"><span style=display:flex><span><span style=color:#586e75>// Paste the protoc generated and user provided code snippet here.
</span></span></span></code></pre></div></div></div><br>配置并注册以上服务实现类，同时，还可以指定服务参数、注册中心地址、协议与端口等配置，以下是支持几种配置格式示例：<br><br><ul class="nav nav-tabs" id=tabs-2 role=tablist><li class=nav-item><a class="nav-link active tab-YAML" id=tabs-2-0-tab data-toggle=tab href=#tabs-2-0 role=tab onclick='handleClick("YAML")' aria-controls=tabs-2-0 aria-selected=true>YAML</a></li><li class=nav-item><a class="nav-link tab-API" id=tabs-2-1-tab data-toggle=tab href=#tabs-2-1 role=tab onclick='handleClick("API")' aria-controls=tabs-2-1 aria-selected=false>API</a></li><li class=nav-item><a class="nav-link tab-Spring-XML" id=tabs-2-2-tab data-toggle=tab href=#tabs-2-2 role=tab onclick='handleClick("Spring-XML")' aria-controls=tabs-2-2 aria-selected=false>Spring XML</a></li><li class=nav-item><a class="nav-link tab-Java-Annotation" id=tabs-2-3-tab data-toggle=tab href=#tabs-2-3 role=tab onclick='handleClick("Java-Annotation")' aria-controls=tabs-2-3 aria-selected=false>Java Annotation</a></li><li class=nav-item><a class="nav-link tab-dubbo.properties" id=tabs-2-4-tab data-toggle=tab href=#tabs-2-4 role=tab onclick='handleClick("dubbo.properties")' aria-controls=tabs-2-4 aria-selected=false>dubbo.properties</a></li></ul><div class=tab-content id=tabs-2-content><div class="tab-pane fade show active" id=tabs-2-0 role=tabpanel aria-labelled-by=tabs-2-0-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#268bd2>dubbo</span>:
</span></span><span style=display:flex><span>  <span style=color:#268bd2>application</span>:
</span></span><span style=display:flex><span>    <span style=color:#268bd2>name</span>: demo-provider
</span></span><span style=display:flex><span>  <span style=color:#268bd2>protocol</span>:
</span></span><span style=display:flex><span>    <span style=color:#268bd2>name</span>: dubbo
</span></span><span style=display:flex><span>    <span style=color:#268bd2>port</span>: -<span style=color:#2aa198>1</span>
</span></span><span style=display:flex><span>  <span style=color:#268bd2>registry</span>:
</span></span><span style=display:flex><span>    <span style=color:#268bd2>address</span>: zookeeper://127.0.0.1:2181</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-2-1 role=tabpanel aria-labelled-by=tabs-2-1-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>static</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>main</span><span style=color:#719e07>(</span>String<span style=color:#719e07>[]</span> args<span style=color:#719e07>)</span> <span style=color:#268bd2>throws</span> Exception <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    ServiceConfig<span style=color:#719e07>&lt;</span>DemoServiceImpl<span style=color:#719e07>&gt;</span> service <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> ServiceConfig<span style=color:#719e07>&lt;&gt;();</span>
</span></span><span style=display:flex><span>    service<span style=color:#719e07>.</span>setInterface<span style=color:#719e07>(</span>DemoService<span style=color:#719e07>.</span>class<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>    service<span style=color:#719e07>.</span>setRef<span style=color:#719e07>(</span><span style=color:#719e07>new</span> DemoServiceImpl<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    DubboBootstrap bootstrap <span style=color:#719e07>=</span> DubboBootstrap<span style=color:#719e07>.</span>getInstance<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    bootstrap<span style=color:#719e07>.</span>application<span style=color:#719e07>(</span><span style=color:#719e07>new</span> ApplicationConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;dubbo-demo-api-provider&#34;</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>registry<span style=color:#719e07>(</span><span style=color:#719e07>new</span> RegistryConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;zookeeper://127.0.0.1:2181&#34;</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>protocol<span style=color:#719e07>(</span><span style=color:#719e07>new</span> ProtocolConfig<span style=color:#719e07>(</span>CommonConstants<span style=color:#719e07>.</span>DUBBO<span style=color:#719e07>,</span> <span style=color:#719e07>-</span><span style=color:#2aa198>1</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>service<span style=color:#719e07>(</span>service<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>start<span style=color:#719e07>()</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>await<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-2-2 role=tabpanel aria-labelled-by=tabs-2-2-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>&lt;beans xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
</span></span><span style=display:flex><span>       xmlns:dubbo=&#34;http://dubbo.apache.org/schema/dubbo&#34;
</span></span><span style=display:flex><span>       xmlns=&#34;http://www.springframework.org/schema/beans&#34;
</span></span><span style=display:flex><span>       xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
</span></span><span style=display:flex><span>       http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd&#34;&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;!-- Process related configurations --&gt;
</span></span><span style=display:flex><span>    &lt;dubbo:application name=&#34;demo-provider&#34;/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;!-- Registry address for service discovery--&gt;
</span></span><span style=display:flex><span>    &lt;dubbo:registry address=&#34;zookeeper://127.0.0.1:2181&#34;/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;!-- Specifies the RPC protocol to use and the TCP port to listen on --&gt;
</span></span><span style=display:flex><span>    &lt;dubbo:protocol name=&#34;dubbo&#34; port=&#34;-1&#34;/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;!-- Put all services need to be exported here --&gt;
</span></span><span style=display:flex><span>    &lt;dubbo:service interface=&#34;org.apache.dubbo.demo.DemoService&#34; timeout=&#34;3000&#34; ref=&#34;demoService&#34;/&gt;
</span></span><span style=display:flex><span>    &lt;bean id=&#34;demoService&#34; class=&#34;org.apache.dubbo.demo.provider.DemoServiceImpl&#34;/&gt;
</span></span><span style=display:flex><span>&lt;/beans&gt;</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-2-3 role=tabpanel aria-labelled-by=tabs-2-3-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#268bd2>@DubboService</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>DemoServiceImpl</span> <span style=color:#268bd2>implements</span> DemoService <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#586e75>// business implementation
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>DemoServiceComponent</span> <span style=color:#268bd2>implements</span> DemoService <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@DubboReference</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>private</span> DemoService demoService<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-2-4 role=tabpanel aria-labelled-by=tabs-2-4-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span>dubbo.application.name<span style=color:#719e07>=</span><span style=color:#2aa198>dubbo-demo-annotation-provider</span>
</span></span><span style=display:flex><span>dubbo.protocol.name<span style=color:#719e07>=</span><span style=color:#2aa198>dubbo</span>
</span></span><span style=display:flex><span>dubbo.protocol.port<span style=color:#719e07>=</span><span style=color:#2aa198>-1</span>
</span></span><span style=display:flex><span>dubbo.registry.address<span style=color:#719e07>=</span><span style=color:#2aa198>zookeeper://127.0.0.1:2181</span></span></span></code></pre></div></div></div><br>启动 Server 监听服务<br><br><ul class="nav nav-tabs" id=tabs-3 role=tablist><li class=nav-item><a class="nav-link active tab-Java" id=tabs-3-0-tab data-toggle=tab href=#tabs-3-0 role=tab onclick='handleClick("Java")' aria-controls=tabs-3-0 aria-selected=true>Java</a></li><li class=nav-item><a class="nav-link tab-Go" id=tabs-3-1-tab data-toggle=tab href=#tabs-3-1 role=tab onclick='handleClick("Go")' aria-controls=tabs-3-1 aria-selected=false>Go</a></li><li class=nav-item><a class="nav-link tab-Rust" id=tabs-3-2-tab data-toggle=tab href=#tabs-3-2 role=tab onclick='handleClick("Rust")' aria-controls=tabs-3-2 aria-selected=false>Rust</a></li><li class=nav-item><a class="nav-link tab-Node.js" id=tabs-3-3-tab data-toggle=tab href=#tabs-3-3 role=tab onclick='handleClick("Node.js")' aria-controls=tabs-3-3 aria-selected=false>Node.js</a></li></ul><div class=tab-content id=tabs-3-content><div class="tab-pane fade show active" id=tabs-3-0 role=tabpanel aria-labelled-by=tabs-3-0-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>static</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>main</span><span style=color:#719e07>(</span>String<span style=color:#719e07>[]</span> args<span style=color:#719e07>)</span> <span style=color:#268bd2>throws</span> Exception <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    ServiceConfig<span style=color:#719e07>&lt;</span>DemoServiceImpl<span style=color:#719e07>&gt;</span> service <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> ServiceConfig<span style=color:#719e07>&lt;&gt;();</span>
</span></span><span style=display:flex><span>    service<span style=color:#719e07>.</span>setInterface<span style=color:#719e07>(</span>DemoService<span style=color:#719e07>.</span>class<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>    service<span style=color:#719e07>.</span>setRef<span style=color:#719e07>(</span><span style=color:#719e07>new</span> DemoServiceImpl<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    DubboBootstrap bootstrap <span style=color:#719e07>=</span> DubboBootstrap<span style=color:#719e07>.</span>getInstance<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    bootstrap<span style=color:#719e07>.</span>application<span style=color:#719e07>(</span><span style=color:#719e07>new</span> ApplicationConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;dubbo-demo-api-provider&#34;</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>registry<span style=color:#719e07>(</span><span style=color:#719e07>new</span> RegistryConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;zookeeper://127.0.0.1:2181&#34;</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>protocol<span style=color:#719e07>(</span><span style=color:#719e07>new</span> ProtocolConfig<span style=color:#719e07>(</span>CommonConstants<span style=color:#719e07>.</span>DUBBO<span style=color:#719e07>,</span> <span style=color:#719e07>-</span><span style=color:#2aa198>1</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>service<span style=color:#719e07>(</span>service<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>start<span style=color:#719e07>()</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>await<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-3-1 role=tabpanel aria-labelled-by=tabs-3-1-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Go data-lang=Go><span style=display:flex><span><span style=color:#268bd2>func</span> <span style=color:#268bd2>main</span>() {
</span></span><span style=display:flex><span>	config.<span style=color:#268bd2>SetProviderService</span>(<span style=color:#719e07>&amp;</span>DemoServiceImpl{})
</span></span><span style=display:flex><span>	<span style=color:#719e07>if</span> err <span style=color:#719e07>:=</span> config.<span style=color:#268bd2>Load</span>(); err <span style=color:#719e07>!=</span> <span style=color:#cb4b16>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#b58900>panic</span>(err)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#719e07>select</span> {}
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-3-2 role=tabpanel aria-labelled-by=tabs-3-2-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Rust data-lang=Rust><span style=display:flex><span><span style=color:#719e07>#[tokio::main]</span>
</span></span><span style=display:flex><span><span style=color:#719e07>async</span> <span style=color:#719e07>fn</span> <span style=color:#268bd2>main</span>() {
</span></span><span style=display:flex><span>    register_server(GreeterServerImpl {
</span></span><span style=display:flex><span>        name: <span style=color:#2aa198>&#34;greeter&#34;</span>.to_string(),
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#586e75>// Dubbo::new().start().await;
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>    Dubbo::new()
</span></span><span style=display:flex><span>        .with_config({
</span></span><span style=display:flex><span>            <span style=color:#268bd2>let</span> r <span style=color:#719e07>=</span> RootConfig::new();
</span></span><span style=display:flex><span>            <span style=color:#719e07>match</span> r.load() {
</span></span><span style=display:flex><span>                <span style=color:#b58900>Ok</span>(config) <span style=color:#719e07>=&gt;</span> config,
</span></span><span style=display:flex><span>                <span style=color:#b58900>Err</span>(_err) <span style=color:#719e07>=&gt;</span> panic!(<span style=color:#2aa198>&#34;err: {:?}&#34;</span>, _err), <span style=color:#586e75>// response was droped
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>            }
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>        .start()
</span></span><span style=display:flex><span>        .<span style=color:#719e07>await</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-3-3 role=tabpanel aria-labelled-by=tabs-3-3-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Node.js data-lang=Node.js><span style=display:flex><span><span style=color:#586e75>// Put node.js server bootstrapping snippet here
</span></span></span></code></pre></div></div></div><br>至此，能监听请求并提供特定服务的 Dubbo Server 就开发和启动完成了。<h2 id=第四步开发服务消费者>第四步，开发服务消费者</h2><p>接下来就是开发一个调用服务的 Client 了</p><blockquote><p>在 Client 调用服务的前提是需要有服务定义的依赖，这可以通过语言特定的依赖分发系统或 IDL 管理系统实现。</p></blockquote><p>通过配置/API声明服务调用，告诉 Dubbo 要生成 Proxy 的服务，同时可以指定服务发现的注册中心等配置：</p><ul class="nav nav-tabs" id=tabs-4 role=tablist><li class=nav-item><a class="nav-link active tab-YAML" id=tabs-4-0-tab data-toggle=tab href=#tabs-4-0 role=tab onclick='handleClick("YAML")' aria-controls=tabs-4-0 aria-selected=true>YAML</a></li><li class=nav-item><a class="nav-link tab-API" id=tabs-4-1-tab data-toggle=tab href=#tabs-4-1 role=tab onclick='handleClick("API")' aria-controls=tabs-4-1 aria-selected=false>API</a></li><li class=nav-item><a class="nav-link tab-Spring-XML" id=tabs-4-2-tab data-toggle=tab href=#tabs-4-2 role=tab onclick='handleClick("Spring-XML")' aria-controls=tabs-4-2 aria-selected=false>Spring XML</a></li><li class=nav-item><a class="nav-link tab-Java-Annotation" id=tabs-4-3-tab data-toggle=tab href=#tabs-4-3 role=tab onclick='handleClick("Java-Annotation")' aria-controls=tabs-4-3 aria-selected=false>Java Annotation</a></li><li class=nav-item><a class="nav-link tab-dubbo.properties" id=tabs-4-4-tab data-toggle=tab href=#tabs-4-4 role=tab onclick='handleClick("dubbo.properties")' aria-controls=tabs-4-4 aria-selected=false>dubbo.properties</a></li></ul><div class=tab-content id=tabs-4-content><div class="tab-pane fade show active" id=tabs-4-0 role=tabpanel aria-labelled-by=tabs-4-0-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#268bd2>dubbo</span>:
</span></span><span style=display:flex><span>  <span style=color:#268bd2>application</span>:
</span></span><span style=display:flex><span>    <span style=color:#268bd2>name</span>: demo-consumer
</span></span><span style=display:flex><span>  <span style=color:#268bd2>registry</span>:
</span></span><span style=display:flex><span>    <span style=color:#268bd2>address</span>: zookeeper://127.0.0.1:2181</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-4-1 role=tabpanel aria-labelled-by=tabs-4-1-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>private</span> <span style=color:#268bd2>static</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>main</span><span style=color:#719e07>(</span>String<span style=color:#719e07>[]</span> args<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    ReferenceConfig<span style=color:#719e07>&lt;</span>DemoService<span style=color:#719e07>&gt;</span> reference <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> ReferenceConfig<span style=color:#719e07>&lt;&gt;();</span>
</span></span><span style=display:flex><span>    reference<span style=color:#719e07>.</span>setInterface<span style=color:#719e07>(</span>DemoService<span style=color:#719e07>.</span>class<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>    reference<span style=color:#719e07>.</span>setGeneric<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;true&#34;</span><span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    DubboBootstrap bootstrap <span style=color:#719e07>=</span> DubboBootstrap<span style=color:#719e07>.</span>getInstance<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    bootstrap<span style=color:#719e07>.</span>application<span style=color:#719e07>(</span><span style=color:#719e07>new</span> ApplicationConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;demo-consumer&#34;</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>registry<span style=color:#719e07>(</span><span style=color:#719e07>new</span> RegistryConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;zookeeper://127.0.0.1:2181&#34;</span><span style=color:#719e07>))</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>reference<span style=color:#719e07>(</span>reference<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>.</span>start<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-4-2 role=tabpanel aria-labelled-by=tabs-4-2-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>&lt;beans xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
</span></span><span style=display:flex><span>       xmlns:dubbo=&#34;http://dubbo.apache.org/schema/dubbo&#34;
</span></span><span style=display:flex><span>       xmlns=&#34;http://www.springframework.org/schema/beans&#34;
</span></span><span style=display:flex><span>       xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
</span></span><span style=display:flex><span>       http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd&#34;&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;dubbo:application name=&#34;demo-consumer&#34;/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;dubbo:registry id=&#34;demo1&#34; address=&#34;zookeeper://127.0.0.1:2181&#34;/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;dubbo:reference id=&#34;demoService&#34; check=&#34;false&#34; interface=&#34;org.apache.dubbo.demo.DemoService&#34;/&gt;
</span></span><span style=display:flex><span>&lt;/beans&gt;</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-4-3 role=tabpanel aria-labelled-by=tabs-4-3-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>SpringApplication</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@DubboReference</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>private</span> DemoService demoService<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-4-4 role=tabpanel aria-labelled-by=tabs-4-4-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span>dubbo.application.name<span style=color:#719e07>=</span><span style=color:#2aa198>dubbo-demo-annotation-provider</span>
</span></span><span style=display:flex><span>dubbo.registry.address<span style=color:#719e07>=</span><span style=color:#2aa198>zookeeper://127.0.0.1:2181</span></span></span></code></pre></div></div></div><br>启动 Client<br><br><ul class="nav nav-tabs" id=tabs-5 role=tablist><li class=nav-item><a class="nav-link active tab-Java" id=tabs-5-0-tab data-toggle=tab href=#tabs-5-0 role=tab onclick='handleClick("Java")' aria-controls=tabs-5-0 aria-selected=true>Java</a></li><li class=nav-item><a class="nav-link tab-Go" id=tabs-5-1-tab data-toggle=tab href=#tabs-5-1 role=tab onclick='handleClick("Go")' aria-controls=tabs-5-1 aria-selected=false>Go</a></li><li class=nav-item><a class="nav-link tab-Rust" id=tabs-5-2-tab data-toggle=tab href=#tabs-5-2 role=tab onclick='handleClick("Rust")' aria-controls=tabs-5-2 aria-selected=false>Rust</a></li><li class=nav-item><a class="nav-link tab-Node.js" id=tabs-5-3-tab data-toggle=tab href=#tabs-5-3 role=tab onclick='handleClick("Node.js")' aria-controls=tabs-5-3 aria-selected=false>Node.js</a></li></ul><div class=tab-content id=tabs-5-content><div class="tab-pane fade show active" id=tabs-5-0 role=tabpanel aria-labelled-by=tabs-5-0-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>static</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>main</span><span style=color:#719e07>(</span>String<span style=color:#719e07>[]</span> args<span style=color:#719e07>)</span> <span style=color:#268bd2>throws</span> Exception <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#586e75>// ...
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>    DemoService demoService <span style=color:#719e07>=</span> bootstrap<span style=color:#719e07>.</span>getCache<span style=color:#719e07>().</span>get<span style=color:#719e07>(</span>reference<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>    String message <span style=color:#719e07>=</span> demoService<span style=color:#719e07>.</span>sayHello<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;dubbo&#34;</span><span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Result: &#34;</span> <span style=color:#719e07>+</span> message<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span></span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-5-1 role=tabpanel aria-labelled-by=tabs-5-1-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Go data-lang=Go><span style=display:flex><span><span style=color:#268bd2>func</span> <span style=color:#268bd2>main</span>() {
</span></span><span style=display:flex><span>	config.<span style=color:#268bd2>SetProviderService</span>(<span style=color:#719e07>&amp;</span>DemoServiceImpl{})
</span></span><span style=display:flex><span>	<span style=color:#719e07>if</span> err <span style=color:#719e07>:=</span> config.<span style=color:#268bd2>Load</span>(); err <span style=color:#719e07>!=</span> <span style=color:#cb4b16>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#b58900>panic</span>(err)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#719e07>select</span> {}
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-5-2 role=tabpanel aria-labelled-by=tabs-5-2-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Rust data-lang=Rust><span style=display:flex><span><span style=color:#719e07>#[tokio::main]</span>
</span></span><span style=display:flex><span><span style=color:#719e07>async</span> <span style=color:#719e07>fn</span> <span style=color:#268bd2>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#268bd2>let</span> <span style=color:#719e07>mut</span> cli <span style=color:#719e07>=</span> GreeterClient::new().with_uri(<span style=color:#2aa198>&#34;http://127.0.0.1:8888&#34;</span>.to_string());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#2aa198>&#34;# unary call&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#268bd2>let</span> resp <span style=color:#719e07>=</span> cli
</span></span><span style=display:flex><span>        .greet(Request::new(GreeterRequest {
</span></span><span style=display:flex><span>            name: <span style=color:#2aa198>&#34;message from client&#34;</span>.to_string(),
</span></span><span style=display:flex><span>        }))
</span></span><span style=display:flex><span>        .<span style=color:#719e07>await</span>;
</span></span><span style=display:flex><span>    <span style=color:#268bd2>let</span> resp <span style=color:#719e07>=</span> <span style=color:#719e07>match</span> resp {
</span></span><span style=display:flex><span>        <span style=color:#b58900>Ok</span>(resp) <span style=color:#719e07>=&gt;</span> resp,
</span></span><span style=display:flex><span>        <span style=color:#b58900>Err</span>(err) <span style=color:#719e07>=&gt;</span> <span style=color:#719e07>return</span> println!(<span style=color:#2aa198>&#34;{:?}&#34;</span>, err),
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#268bd2>let</span> (_parts, body) <span style=color:#719e07>=</span> resp.into_parts();
</span></span><span style=display:flex><span>    println!(<span style=color:#2aa198>&#34;Response: {:?}&#34;</span>, body);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-5-3 role=tabpanel aria-labelled-by=tabs-5-3-tab><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Node.js data-lang=Node.js><span style=display:flex><span><span style=color:#586e75>// Put node.js client snippet here
</span></span></span></code></pre></div></div></div><p>服务调用</p><h2 id=第五步打包部署>第五步，打包部署</h2><h4 id=语言特定形式分发包>语言特定形式分发包</h4><p>您可以选择以语言特定方式打包 Dubbo 开发的服务 (如 Java Jar、Go Module 等)，并以语言提供的发机制将二进制包分发出去。一般来讲，要注意一以下几点：</p><ul><li>服务定义最好作为单独的二进制包由 Server 端定义并打包分发，以便所有 Client 都能依赖并基于服务定义编码；</li><li>Dubbo Server 和 Dubbo Client 的打包与分发与普通应用完全一样，如 Java 应用就可以用 Maven 或 Gradle 直接打包分发；</li><li>如果您是以 IDL 方式定义服务，还需要考虑 IDL 的分发与管理方式；</li></ul><h4 id=docker-镜像>Docker 镜像</h4><p>在当今容器时代，打包为 Docker 镜像已变为更通用的分发形式</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>docker build -t <span style=color:#2aa198>${</span><span style=color:#268bd2>your</span>-organization<span style=color:#2aa198>}</span>/<span style=color:#2aa198>${</span><span style=color:#268bd2>project</span>-name<span style=color:#2aa198>}</span>:<span style=color:#2aa198>${</span><span style=color:#268bd2>tag</span>-or-version<span style=color:#2aa198>}</span> .
</span></span></code></pre></div><blockquote><p>通常，在脚手架生成的根目录下 <code>/deploy</code> 有预先生成的镜像打包 Dockerfile 模版，可以按需修改后直接用来打包。</p></blockquote><h2 id=第六步部署>第六步，部署</h2><p>Dubbo 微服务支持多种部署架构，与云原生基础设施做了很好的适配：</p><ul><li>传统的自建服务治理体系模式，需自行维护微服务需要的注册中心集群、配置中心集群等</li><li>基于 Kubernetes Native Service 微服务体系，此时 Kubernetes 集群承担服务抽象、注册中心、配置中心等角色</li><li>服务网格架构，服务治理角色由控制面承担，Dubbo 作为数据面组件与 Sidecar 部署在一起，或者采用无 Sidecar 的 Proxyless 架构</li></ul><h4 id=传统自建注册配置中心模式>传统自建注册、配置中心模式</h4><p>Dubbo 微服务需要依赖一些中心化集群协调状态，以下是一个抽象的 Dubbo 部署架构图：</p><p><img src alt=三中心部署架构图></p><p>图：部署在虚拟机或 Kubernetes 集群的传统 Dubbo 微服务架构</p><ul><li>注册中心。协调 Consumer 与 Provider 之间的地址注册与发现</li><li>配置中心 (可选)<ul><li>存储 Dubbo 启动阶段的全局配置，保证配置的跨环境共享与全局一致性</li><li>负责服务治理规则（路由规则、动态配置等）的存储与推送。</li></ul></li><li>元数据中心 (可选)<ul><li>接收 Provider 上报的服务接口元数据，为 Admin 等控制台提供运维能力（如服务测试、接口文档等）</li><li>作为服务发现机制的补充，提供额外的接口/方法级别配置信息的同步能力，相当于注册中心的额外扩展</li></ul></li></ul><p>以上三个中心集群并不是运行 Dubbo 的必要条件，用户完全可以根据自身业务情况决定只启用其中一个或多个，以达到简化部署的目的。通常情况下，所有用户都会从独立的注册中心开始 Dubbo 服务开发，而配置中心、元数据中心则会在微服务演进的过程中逐步的按需被引入进来。注册中心、配置中心和元数据中心都是逻辑概念，它们完全可以是同一个物理集群，如部署一个 Zookeeper 集群同时作为注册中心、配置中心和元数据中心。</p><p>如您是在 Kubernetes 搭建 Dubbo 微服务集群，请参考 <a href>如何在 Kubernetes 集群部署 Dubbo 服务</a> 了解更多。</p><h4 id=kubernetes-原生服务>Kubernetes 原生服务</h4><p><img src alt="参考下 Spring Kubernetes 等的架构图"></p><p>在这种模式下，Dubbo 服务将与 Kubernetes 原生服务实现概念对齐，同时，开发者也不再需要部署独立的注册、配置中心集群，这部分职责由 Kubernetes 及相应组件如 Service、ConfigMap、Deployment 等承担。具体是原理上，是由 Dubbo 节点直接与 Kubernete api-server 或 DNS 通信实现。</p><p>请参考 <a href>Dubbo Kubernetes 原生服务任务</a> 了解更多</p><h4 id=服务网格>服务网格</h4><p>Dubbo 服务可以无缝接入 Istio 体系，并且，Dubbo 支持更灵活的数据面部署形式</p><ul><li>Sidecar 模式，Dubbo 可以与 Envoy 等代理部署在一起，实现流量拦截和治理</li><li>Proxyless 模式，Dubbo 通过直接与 Istio 等控制面通信，实现与 Sidecar 模式对等能力的同时，减少了部署成本和性能损耗。</li></ul><p><img src=/imgs/v3/mesh/thinsdk-envoy.png alt=服务网格部署架构图></p><p>具体可参见 <a href>Dubbo 服务网格</a> 部分说明。</p><h2 id=第七步观测服务状态>第七步，观测服务状态</h2><p>可以通过 Dubbo 官方提供的 Admin 控制台非常方便的观测服务运行状态。</p><p><img src alt="Admin 截图"></p><p>请参考 <a href>如何部署 Admin</a> 了解如何将 Admin 部署您的开发或生产环境。</p><blockquote><p>注意：部署过程中必须要配置 Admin 连接到您正在使用的注册中心或配置中心集群，保证 Admin 和 Dubbo 微服务集群共享相同数据源。</p></blockquote><p>如果您将 Dubbo 部署在服务网格架构，则还可以使用对应控制面产品支持的控制台来观测 Dubbo 服务状态，如 Istio、Kiali。更多可观测能力如 Accessing Log、Tracing 等，请参考<a href>可观测性</a>文档。</p><h2 id=第八步服务治理>第八步，服务治理</h2><p>为了使 Dubbo 服务稳定、可控的运行，我们需要在运行态对 Dubbo 服务进行治理。</p><p>首先，可以通过 Dubbo Admin 完成绝大多数的治理需求，如查看服务状态、下发流量规则等</p><p><img src alt="Dubbo Admin 治理效果图"></p><p>对于更高阶的治理诉求，可通过以下内容了解：</p><ul><li><a href>网关流量接入</a>，通过网关实现前端 HTTP 流量接入 Dubbo 服务</li><li><a href>限流降级</a>，通过 Sentinel 等突发流量，就要用到限流降级能力，</li><li><a href>数据一致性</a>，了解 Dubbo 服务的分布式事物解决方案</li><li><a href>全链路追踪</a>，了解 Dubbo 服务如何接入 Zipkin、Skywalking、OpenTracing 等全链路监控组件</li><li><a href>服务发现</a>，了解 Dubbo 的服务发现机制和扩展实现</li><li><a href>流量管控</a>，了解 Dubbo 丰富的流量管控规则定义及使用方式</li></ul><div id=pre-footer><h2>反馈</h2><p class=feedback--prompt>此页是否对您有帮助？</p><button class="btn btn-primary mb-4 feedback--yes">是</button>
<button class="btn btn-primary mb-4 feedback--no">否</button><p class="feedback--response feedback--response__hidden">感谢反馈。如果您有一个关于如何使用 Kubernetes 的特定的、需要答案的问题，可以访问
<a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/kubernetes>Stack Overflow</a>.
在 GitHub 仓库上登记新的问题
<a class=feedback--link target=_blank rel=noopener href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">报告问题</a>
或者
<a class=feedback--link target=_blank rel=noopener href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">提出改进建议</a>.</p></div><script>const yes=document.querySelector(".feedback--yes"),no=document.querySelector(".feedback--no");document.querySelectorAll(".feedback--link").forEach(e=>{e.href=e.href+window.location.pathname});const sendFeedback=e=>{gtag||console.log("!gtag"),gtag("event","click",{event_category:"Helpful",event_label:window.location.pathname,value:e})},disableButtons=()=>{yes.disabled=!0,yes.classList.add("feedback--button__disabled"),no.disabled=!0,no.classList.add("feedback--button__disabled")};yes.addEventListener("click",()=>{sendFeedback(1),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")}),no.addEventListener("click",()=>{sendFeedback(0),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")})</script><br><div class="text-muted mt-5 pt-3 border-top">最后修改 January 2, 2023: <a href=https://github.com/apache/dubbo-website/commit/7100177d897c2e2205e721e7f307a537bce6fabf>Fix static website (7100177)</a></div></div></main><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/apache/dubbo-website/edit/main/content/zh/overview/core-features/service-definition.md target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/apache/dubbo-website/new/main/content/zh/overview/core-features/service-definition.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> 创建子页面</a>
<a href="https://github.com/apache/dubbo-website/issues/new?title=%e5%ae%9a%e4%b9%89%e6%9c%8d%e5%8a%a1" target=_blank><i class="fab fa-github fa-fw"></i> 登记问题</a>
<a href=https://github.com/apache/dubbo/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a></div><nav id=TableOfContents><ul><li><a href=#第一步准备微服务环境>第一步，准备微服务环境</a></li><li><a href=#第一步初始化项目>第一步，初始化项目</a></li><li><a href=#第二步定义服务>第二步，定义服务</a></li><li><a href=#第三步开发服务提供者>第三步，开发服务提供者</a></li><li><a href=#第四步开发服务消费者>第四步，开发服务消费者</a></li><li><a href=#第五步打包部署>第五步，打包部署</a><ul><li></li></ul></li><li><a href=#第六步部署>第六步，部署</a><ul><li></li></ul></li><li><a href=#第七步观测服务状态>第七步，观测服务状态</a></li><li><a href=#第八步服务治理>第八步，服务治理</a></li></ul></nav></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Dubbo mailing list archive" aria-label="Dubbo mailing list archive"><a class=text-white target=_blank rel="noopener noreferrer" href=https://lists.apache.org/list.html?dev@dubbo.apache.org><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/apache/dubbo><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Subscribe to mailing list" aria-label="Subscribe to mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=mailto:dev-subscribe@dubbo.apache.org><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The Apache Software Foundation. Apache and the Apache feather logo are trademarks of The Apache Software Foundation. All Rights Reserved</small></div></div></div></footer><div class="row pt-2 pb-2"><div class="container-fluid mx-sm-5"><div class=text-center id=my-footer><img style=float:left src=/imgs/apache_logo.png><ul><li><a href=https://www.apache.org>Foundation</a></li><li><a href=https://www.apache.org/licenses/>License</a></li><li><a href=https://www.apache.org/security/>Security</a></li><li><a href=https://www.apache.org/events/current-event>Events</a></li><li><a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a href=https://privacy.apache.org/policies/privacy-policy-public.html>Privacy</a></li><li><a href=https://www.apache.org/foundation/thanks.html>Thanks</a></li></ul></div></div></div><script src=/js/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<script src=/js/main.min.1f49dca1354b63169a1b3c3c43ac2606d02cc2eb2b1fc715e9cacba4f2c71348.js integrity="sha256-H0ncoTVLYxaaGzw8Q6wmBtAswusrH8cV6crLpPLHE0g=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script>docsearch({appId:"L5F4T9F0I1",apiKey:"364ae307e1da9d02b2335675e9db1eb1",indexName:"apache_dubbo",container:"#docsearch",debug:!1}),docsearch({appId:"L5F4T9F0I1",apiKey:"364ae307e1da9d02b2335675e9db1eb1",indexName:"apache_dubbo",container:"#docsearch_zh_home",debug:!1})</script></body></html>